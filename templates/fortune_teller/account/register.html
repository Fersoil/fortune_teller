<!-- register.html -->
{% extends 'fortune_teller/account/account_generic.html' %}

{% block account_content %}
  <h2>Register</h2>
  <form id="registerForm" method="post">
    {% csrf_token %}

    {% comment %}
    {{ form.as_p }}}

    <!-- Username Field -->
    <div>
      <label for="id_username">Username:</label>
      <input type="text" name="username" id="id_username" value="{{ form.username.value }}" />
      {% for error in form.username.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <div>
      <label for="id_email">Email:</label>
      <input type="email" name="email" id="id_email" value="{{ form.email.value }}" />
      {% for error in form.email.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <!-- Password Field -->
    <div>
      <label for="id_password1">Password:</label>
      <input type="password" name="password1" id="id_password1" />
      {% for error in form.password1.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>

    <!-- Confirm Password Field -->
    <div>
      <label for="id_password2">Confirm Password:</label>
      <input type="password" name="password2" id="id_password2" />
      {% for error in form.password2.errors %}
        <span class="error">{{ error }}</span>
      {% endfor %}
    </div>
    {% endcomment %}

    {% for field in form %}
      <fieldset>
        {% if field.errors %}
          <ul class="errorlist">
            {% for error in field.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}
        {{ field }} 
        {{ field.label_tag }}
      </fieldset>
    {% endfor %}

    <button type="submit"><i>Register</i></button>
    <p>
      Already has an account? <a href="{% url 'login' %}">Login</a>
    </p>
  </form>

  <script>
    document.getElementById('showErrors').onmouseover = function() {
      document.getElementById('errorMessages').style.display = 'block';
    };
    document.getElementById('showErrors').onmouseout = function() {
      document.getElementById('errorMessages').style.display = 'none';
    };
  </script>
{% endblock %}
